// Unfortunately I have to use Discord from time to time, so I put it in a separate Firefox profile exclusively used for it.

// Do not apply these settings on profiles you actually plan to browse on or actively use...

// Goal here is to make the profile as light-weight & minimal as possible. Nothing already in the base profile will be covered here.

// Set Discord as start page

lockPref("browser.startup.homepage", "https://discord.com/channels/@me");
lockPref("browser.startup.page", 1);

defaultPref("media.gmp-gmpopenh264.enabled", true); // Enable OpenH264, I usually disable by default

lockPref("pdfjs.disabled", true); // Disable built-in PDF Reader

lockPref("reader.parse-on-load.enabled", false); // Disable Reader Mode

lockPref("webgl.disabled", true); // Disable WebGL

lockPref("javascript.options.wasm", false); // Disable WASM

lockPref("privacy.resistFingerprinting", true); // Enable RFP

lockPref("privacy.resistFingerprinting.letterboxing", true); // Enable RFP Letterboxing

lockPref("security.ssl.require_safe_negotiation", true); // Always require safe negotiations, supported by Discord

// Disable WebCompat Reporter

lockPref("extensions.webcompat-reporter.enabled", false);
lockPref("extensions.webcompat-reporter.newIssueEndpoint, "");
lockPref("ui.new-webcompat-reporter.enabled", false);
lockPref("ui.new-webcompat-reporter.send-more-info-link", "");

lockPref("network.http.referer.XOriginPolicy", 2);

lockPref("dom.security.https_only_mode_send_http_background_request", false); // Never send HTTP background requests

// Remove undesired Mozilla links & connections

lockPref("app.feedback.baseURL", "");
lockPref("app.support.baseURL", "");
lockPref("app.update.url.details", "");
lockPref("browser.geolocation.warning.infoURL", "");

// Kill Geolocation

lockPref("geo.provider.network.url", "");
lockPref("geo.provider.use_corelocation", false);
lockPref("geo.provider.use_geoclue", false);
lockPref("geo.provider.use_gpsd", false);
lockPref("geo.provider.ms-windows-location", false);
lockPref("permissions.default.geo", 2);

// Fully disable browsing history

lockPref("places.history.enabled", false);

// Remove unnecessary URL Bar shortcuts

lockPref("browser.urlbar.shortcuts.bookmarks", false);
lockPref("browser.urlbar.shortcuts.history", false);
lockPref("browser.urlbar.shortcuts.tabs", false);

// Use Compact Mode for a slimmer UI 

lockPref("browser.compactmode.show", true);

// Never back-up/export bookmarks

lockPref("browser.bookmarks.autoExportHTML", false);
lockPref("browser.bookmarks.max_backups", 0);

// Never show image placeholders

lockPref("browser.display.show_image_placeholders", false);

// Never show Bookmarks toolbar & Prevent showing "Other Bookmarks"

lockPref("browser.toolbars.bookmarks.showOtherBookmarks", false);
lockPref("browser.toolbars.bookmarks.visibility", "never");

// Prevent caching previous tabs

lockPref("browser.sessionstore.max_tabs_undo", 0);
lockPref("browser.sessionhistory.max_total_viewers", 0);

// Misc. URL Bar Suggestions

lockPref("browser.search.separatePrivateDefault.urlbarResult.enabled", false);
lockPref("browser.urlbar.clipboard.featureGate", false);
lockPref("browser.urlbar.maxHistoricalSearchSuggestions", 0);
lockPref("browser.urlbar.maxRichResults", 0);
lockPref("browser.urlbar.richSuggestions.featureGate", false);
lockPref("browser.urlbar.suggest.bookmark", false);
lockPref("browser.urlbar.suggest.calculator", false);
lockPref("browser.urlbar.suggest.clipboard", false);
lockPref("browser.urlbar.suggest.history", false);
lockPref("browser.urlbar.suggest.openpage", false);
lockPref("browser.urlbar.suggest.remotetab", false);
lockPref("browser.urlbar.unitConversion.enabled", false);

// Disable Android Debugging

lockPref("devtools.remote.adb.extensionID", "");
lockPref("devtools.remote.adb.extensionURL", "");

// Never automatically search for text without prompting

lockPref("accessibility.typeaheadfind", false);

// Disable Quarantined Domains (Unnecessary since Discord is only site we use...)

lockPref("extensions.quarantinedDomains.enabled", false);

// Kill Firefox Sync

lockPref("browser.newtabpage.activity-stream.fxaccounts.endpoint", "");
lockPref("identity.fxaccounts.auth.uri", "");
lockPref("identity.fxaccounts.autoconfig.uri", "");
lockPref("identity.fxaccounts.commands.remoteTabManagement.enabled", false);
lockPref("identity.fxaccounts.enabled", false);
lockPref("identity.fxaccounts.oauth.enabled", false);
lockPref("identity.fxaccounts.pairing.enabled", false);
lockPref("identity.fxaccounts.remote.oauth.uri", "");
lockPref("identity.fxaccounts.remote.pairing.uri", "");
lockPref("identity.fxaccounts.remote.profile.uri", "");
lockPref("identity.fxaccounts.remote.root", "");
lockPref("identity.fxaccounts.toolbar.defaultVisible", false);
lockPref("identity.fxaccounts.toolbar.enabled", false);
lockPref("identity.sync.tokenserver.uri", "");

// Misc. Activity Stream, I just use Tabliss anyways...

lockPref("browser.newtabpage.activity-stream.feeds.places", false);
lockPref("browser.newtabpage.activity-stream.feeds.weatherfeed", false);
lockPref("browser.newtabpage.activity-stream.discoverystream.recentSaves.enabled", false);
lockPref("browser.newtabpage.activity-stream.newtabWallpapers.enabled", false);
lockPref("browser.newtabpage.activity-stream.newtabWallpapers.v2.enabled", false);
lockPref("browser.newtabpage.activity-stream.section.highlights.includeBookmarks", false);
lockPref("browser.newtabpage.activity-stream.section.highlights.includeDownloads", false);
lockPref("browser.newtabpage.activity-stream.section.highlights.includeVisited", false);
lockPref("browser.newtabpage.activity-stream.showRecentSaves", false);
lockPref("browser.newtabpage.activity-stream.showWeather", false);